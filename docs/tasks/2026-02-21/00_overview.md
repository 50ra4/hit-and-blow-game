# 実装計画 - タイルヒットアンドブロー（Phase 1）

## 作成日: 2026-02-21

## 要確認事項解消日: 2026-02-21（全項目解消済み）

---

## 1. 全体実装フェーズ構成

| フェーズ | 名称                   | 目的                                                      | タスク数 |
| -------- | ---------------------- | --------------------------------------------------------- | -------- |
| Phase 0  | プロジェクト基盤       | Vite + React + TypeScript + Tailwind の開発環境構築       | 1        |
| Phase 1  | 型・定数・基盤         | 定数定義、Zodスキーマ、i18n、ユーティリティなど基盤コード | 4        |
| Phase 2  | サービス・コアロジック | localStorage サービス、ゲームコアロジック（純粋関数）     | 2        |
| Phase 3  | 状態管理フック         | useGame, useStats, useSettings 等のカスタムフック         | 3        |
| Phase 4  | UIコンポーネント       | 共通UI、ゲーム固有UIの実装                                | 2        |
| Phase 5  | ページ・ルーティング   | 各ページの実装とルーティング統合                          | 6        |
| Phase 6  | 外部連携機能           | シェア、広告、LINE Liff                                   | 3        |
| Phase 7  | アセット・デプロイ     | SVG、PWA、OGP、GitHub Actions                             | 2        |

### フェーズ間の依存関係

```
Phase 0 (基盤セットアップ)
  └─→ Phase 1 (型・定数・基盤)
        ├─→ Phase 2 (サービス・コアロジック)
        │     └─→ Phase 3 (状態管理フック)
        │           └─→ Phase 5 (ページ・ルーティング)
        │                 └─→ Phase 6 (外部連携機能)
        │                       └─→ Phase 7 (アセット・デプロイ)
        └─→ Phase 4 (UIコンポーネント)
              └─→ Phase 5 (ページ・ルーティング)
```

---

## 2. タスク一覧サマリ

| ID    | タスク名                                    | フェーズ | 依存                | 並列可否                           | 想定工数 |
| ----- | ------------------------------------------- | -------- | ------------------- | ---------------------------------- | -------- |
| T-001 | プロジェクト初期セットアップ                | Phase 0  | なし                | -                                  | 半日     |
| T-002 | 定数定義（consts/）                         | Phase 1  | T-001               | T-005と並列可                      | 半日     |
| T-003 | Zodスキーマ定義                             | Phase 1  | T-002               | -                                  | 半日     |
| T-004 | 国際化（i18n）セットアップ                  | Phase 1  | T-002               | T-003と並列可                      | 半日     |
| T-005 | ユーティリティ関数                          | Phase 1  | T-001               | T-002と並列可                      | 半日     |
| T-006 | localStorageサービス                        | Phase 2  | T-003               | T-007と並列可                      | 半日     |
| T-007 | ゲームコアロジック                          | Phase 2  | T-002, T-003, T-005 | T-006と並列可                      | 1日      |
| T-008 | ゲーム状態管理フック（useGame）             | Phase 3  | T-006, T-007        | T-009, T-010と並列可               | 1日      |
| T-009 | 統計・設定フック                            | Phase 3  | T-003, T-004, T-006 | T-008, T-010と並列可               | 1日      |
| T-010 | 汎用カスタムフック                          | Phase 3  | T-001               | T-008, T-009と並列可               | 半日     |
| T-011 | 共通UIコンポーネント                        | Phase 4  | T-001               | T-012と並列可                      | 半日     |
| T-012 | ゲームUIコンポーネント                      | Phase 4  | T-002, T-003        | T-011と並列可                      | 1日      |
| T-013 | ルーティング・App統合                       | Phase 5  | T-004, T-010, T-011 | -                                  | 半日     |
| T-014 | ホームページ                                | Phase 5  | T-009, T-011, T-013 | T-015〜T-018と並列可               | 1日      |
| T-015 | ゲームページ                                | Phase 5  | T-008, T-012, T-013 | T-014, T-016〜T-018と並列可        | 1日      |
| T-016 | 統計ページ                                  | Phase 5  | T-009, T-011, T-013 | T-014, T-015, T-017, T-018と並列可 | 半日     |
| T-017 | チュートリアルページ                        | Phase 5  | T-009, T-011, T-013 | T-014〜T-016, T-018と並列可        | 1日      |
| T-018 | その他ページ（利用規約・プライバシー・404） | Phase 5  | T-011, T-013        | T-014〜T-017と並列可               | 半日     |
| T-019 | シェア機能                                  | Phase 6  | T-003, T-004, T-015 | T-020, T-021と並列可               | 1日      |
| T-020 | 広告機能（AdBanner）                        | Phase 6  | T-015               | T-019, T-021と並列可               | 半日     |
| T-021 | LINE Liff連携                               | Phase 6  | T-013               | T-019, T-020と並列可               | 半日     |
| T-022 | 静的アセット（SVG・PWAマニフェスト・OGP）   | Phase 7  | T-001               | T-023と並列可                      | 半日     |
| T-023 | GitHub Actionsデプロイ設定                  | Phase 7  | T-001               | T-022と並列可                      | 半日     |

---

## 3. 並列実行グループ

以下のタスクグループは並列実行が可能です。

| グループ | 並列実行可能なタスク              | 前提条件                                  |
| -------- | --------------------------------- | ----------------------------------------- |
| G1       | T-002, T-005                      | T-001完了後                               |
| G2       | T-003, T-004                      | T-002完了後（T-004はT-003と並列可）       |
| G3       | T-006, T-007                      | T-003完了後                               |
| G4       | T-008, T-009, T-010               | Phase 2完了後（T-010はT-001完了のみで可） |
| G5       | T-011, T-012                      | T-001完了後（T-012はT-002, T-003も必要）  |
| G6       | T-014, T-015, T-016, T-017, T-018 | T-013完了後 + 各依存タスク完了            |
| G7       | T-019, T-020, T-021               | Phase 5の該当ページ完了後                 |
| G8       | T-022, T-023                      | T-001完了後（他と並列可）                 |

---

## 4. 依存関係グラフ

```
T-001 (プロジェクト基盤)
  ├─→ T-002 (定数定義)
  │     ├─→ T-003 (スキーマ)
  │     │     ├─→ T-006 (localStorage) ──→ T-008 (useGame)
  │     │     │                          ──→ T-009 (統計・設定フック)
  │     │     ├─→ T-007 (ゲームロジック) ──→ T-008 (useGame)
  │     │     ├─→ T-012 (ゲームUI) ──→ T-015 (ゲームページ)
  │     │     └─→ T-019 (シェア機能)
  │     ├─→ T-004 (i18n) ──→ T-009 (統計・設定フック)
  │     │                  ──→ T-013 (ルーティング)
  │     └─→ T-007 (ゲームロジック)
  ├─→ T-005 (ユーティリティ) ──→ T-007 (ゲームロジック)
  ├─→ T-010 (汎用フック) ──→ T-013 (ルーティング)
  ├─→ T-011 (共通UI) ──→ T-013 (ルーティング)
  │                     ──→ T-014〜T-018 (各ページ)
  ├─→ T-022 (静的アセット)
  └─→ T-023 (デプロイ設定)

T-013 (ルーティング)
  ├─→ T-014 (ホームページ) ←── T-009
  ├─→ T-015 (ゲームページ) ←── T-008, T-012
  ├─→ T-016 (統計ページ) ←── T-009
  ├─→ T-017 (チュートリアルページ) ←── T-009
  ├─→ T-018 (その他ページ)
  └─→ T-021 (LINE Liff)

T-015 (ゲームページ)
  ├─→ T-019 (シェア機能)
  └─→ T-020 (広告機能)
```

---

## 5. ファイル構成

```
docs/tasks/2026-02-21/
├── 00_overview.md               # 本ファイル（全体計画）
├── T-001_project-setup.md       # プロジェクト初期セットアップ
├── T-002_consts.md              # 定数定義
├── T-003_schemas.md             # Zodスキーマ定義
├── T-004_i18n.md                # 国際化セットアップ
├── T-005_utils.md               # ユーティリティ関数
├── T-006_storage-service.md     # localStorageサービス
├── T-007_game-logic.md          # ゲームコアロジック
├── T-008_game-hooks.md          # ゲーム状態管理フック
├── T-009_stats-settings-hooks.md # 統計・設定フック
├── T-010_common-hooks.md        # 汎用カスタムフック
├── T-011_common-ui.md           # 共通UIコンポーネント
├── T-012_game-ui.md             # ゲームUIコンポーネント
├── T-013_routing-app.md         # ルーティング・App統合
├── T-014_home-page.md           # ホームページ
├── T-015_game-page.md           # ゲームページ
├── T-016_stats-page.md          # 統計ページ
├── T-017_tutorial-page.md       # チュートリアルページ
├── T-018_other-pages.md         # その他ページ
├── T-019_share-feature.md       # シェア機能
├── T-020_ad-feature.md          # 広告機能
├── T-021_liff-feature.md        # LINE Liff連携
├── T-022_static-assets.md       # 静的アセット
└── T-023_deploy.md              # デプロイ設定
```

---

## 6. 参照仕様書

| ファイル                   | 内容                   |
| -------------------------- | ---------------------- |
| `docs/01_requirements.md`  | 要件定義               |
| `docs/02_architecture.md`  | アーキテクチャ設計     |
| `docs/03_database.md`      | LocalStorageデータ設計 |
| `docs/04_api.md`           | 外部API連携            |
| `docs/05_sitemap.md`       | サイトマップ設計書     |
| `docs/06_mock_design.html` | ワイヤーフレーム       |
