<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ã‚¿ã‚¤ãƒ«ãƒ’ãƒƒãƒˆã‚¢ãƒ³ãƒ‰ãƒ–ãƒ­ãƒ¼ - Tile Hit and Blow</title>
    <style>
      /* ===== ãƒªã‚»ãƒƒãƒˆ & ãƒ™ãƒ¼ã‚¹ã‚¹ã‚¿ã‚¤ãƒ« ===== */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Sans',
          'Hiragino Kaku Gothic ProN', Meiryo, sans-serif;
        background: linear-gradient(
          135deg,
          #1a1a2e 0%,
          #16213e 50%,
          #0f3460 100%
        );
        color: #ffffff;
        min-height: 100vh;
        overflow-x: hidden;
      }

      /* ===== ãƒ˜ãƒƒãƒ€ãƒ¼ ===== */
      header {
        position: sticky;
        top: 0;
        z-index: 100;
        background: rgba(26, 26, 46, 0.85);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        padding: 1rem 1.5rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      .header-left {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .logo {
        font-size: 1.5rem;
        font-weight: bold;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .back-btn {
        background: none;
        border: none;
        color: #ffffff;
        font-size: 1.5rem;
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 8px;
        transition: all 0.3s ease;
        display: none;
      }

      .back-btn:hover {
        background: rgba(255, 255, 255, 0.1);
        transform: scale(1.1);
      }

      .header-title {
        font-size: 1.2rem;
        font-weight: 600;
      }

      .header-right {
        display: flex;
        gap: 0.75rem;
        align-items: center;
      }

      .icon-btn {
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: #ffffff;
        padding: 0.5rem 1rem;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .icon-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      .icon-btn:active {
        transform: translateY(0);
      }

      /* è¨€èªåˆ‡æ›¿ãƒœã‚¿ãƒ³ï¼ˆæ§ãˆã‚ï¼‰ */
      .lang-btn {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.15);
        padding: 0.5rem 0.75rem;
      }

      .lang-btn .arrow {
        font-size: 0.7rem;
        opacity: 0.6;
        margin-left: 0.25rem;
      }

      /* ===== ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ ===== */
      main {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem 1.5rem;
        animation: fadeInUp 0.6s ease;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* ===== ç”»é¢åˆ‡ã‚Šæ›¿ãˆ ===== */
      .screen {
        display: none;
      }

      .screen.active {
        display: block;
      }

      /* ===== ãƒ›ãƒ¼ãƒ ç”»é¢ ===== */
      .hero {
        text-align: center;
        margin-bottom: 3rem;
      }

      .game-title {
        font-size: 2.5rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .game-subtitle {
        font-size: 1rem;
        color: #b0b0b0;
        margin-bottom: 2rem;
      }

      /* ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãƒœã‚¿ãƒ³ï¼ˆåˆå›å°‚ç”¨ï¼‰ */
      .tutorial-highlight {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        color: #ffffff;
        padding: 1.25rem 2rem;
        border-radius: 16px;
        font-size: 1.1rem;
        font-weight: bold;
        cursor: pointer;
        box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
        transition: all 0.3s ease;
        margin-bottom: 2rem;
        display: inline-flex;
        align-items: center;
        gap: 0.75rem;
      }

      .tutorial-highlight:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 24px rgba(102, 126, 234, 0.6);
      }

      /* ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ£ãƒ¬ãƒ³ã‚¸ */
      .daily-challenge {
        background: linear-gradient(
          135deg,
          rgba(255, 215, 0, 0.2) 0%,
          rgba(255, 165, 0, 0.2) 100%
        );
        border: 2px solid rgba(255, 215, 0, 0.5);
        border-radius: 16px;
        padding: 1.5rem;
        margin-bottom: 2rem;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .daily-challenge::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(
          circle,
          rgba(255, 215, 0, 0.1) 0%,
          transparent 70%
        );
        animation: pulse 2s ease-in-out infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
          opacity: 0.5;
        }
        50% {
          transform: scale(1.1);
          opacity: 0.8;
        }
      }

      .daily-challenge:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 24px rgba(255, 215, 0, 0.4);
        border-color: rgba(255, 215, 0, 0.8);
      }

      .daily-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.75rem;
        position: relative;
        z-index: 1;
      }

      .daily-title {
        font-size: 1.3rem;
        font-weight: bold;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .daily-badge {
        background: rgba(255, 215, 0, 0.3);
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
        font-size: 0.85rem;
        border: 1px solid rgba(255, 215, 0, 0.5);
      }

      .daily-description {
        color: #d0d0d0;
        font-size: 0.95rem;
        position: relative;
        z-index: 1;
      }

      /* éŠã‚“ã è¨˜éŒ²ã‚«ãƒ¼ãƒ‰ */
      .stats-card {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 1.5rem;
        margin-bottom: 2rem;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .stats-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        border-color: rgba(255, 255, 255, 0.3);
      }

      .stats-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .stats-title {
        font-size: 1.3rem;
        font-weight: bold;
      }

      .stats-summary {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1rem;
        text-align: center;
      }

      .stats-item {
        background: rgba(0, 0, 0, 0.2);
        border-radius: 12px;
        padding: 0.75rem;
      }

      .stats-value {
        font-size: 1.5rem;
        font-weight: bold;
        color: #667eea;
        margin-bottom: 0.25rem;
      }

      .stats-label {
        font-size: 0.85rem;
        color: #aaa;
      }

      /* ãƒ¢ãƒ¼ãƒ‰é¸æŠã‚°ãƒªãƒƒãƒ‰ */
      .modes-section {
        margin-bottom: 3rem;
      }

      .section-title {
        font-size: 1.5rem;
        font-weight: bold;
        margin-bottom: 1.5rem;
        color: #ffffff;
      }

      .modes-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
      }

      .mode-card {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 1.5rem;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .mode-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        border-color: rgba(255, 255, 255, 0.3);
      }

      .mode-card.locked {
        opacity: 0.5;
        cursor: not-allowed;
        filter: grayscale(0.5);
      }

      .mode-card.locked:hover {
        transform: none;
      }

      .mode-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .mode-icon {
        font-size: 2.5rem;
      }

      .mode-lock {
        font-size: 1.5rem;
      }

      .mode-name {
        font-size: 1.3rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
      }

      .mode-details {
        color: #b0b0b0;
        font-size: 0.9rem;
        line-height: 1.6;
      }

      .mode-badge {
        display: inline-block;
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
        font-size: 0.8rem;
        margin-top: 0.75rem;
        font-weight: 600;
      }

      .mode-card.beginner {
        border-color: rgba(76, 175, 80, 0.5);
      }
      .mode-card.beginner .mode-badge {
        background: rgba(76, 175, 80, 0.3);
        color: #4caf50;
      }

      .mode-card.normal {
        border-color: rgba(33, 150, 243, 0.5);
      }
      .mode-card.normal .mode-badge {
        background: rgba(33, 150, 243, 0.3);
        color: #2196f3;
      }

      .mode-card.hard {
        border-color: rgba(255, 152, 0, 0.5);
      }
      .mode-card.hard .mode-badge {
        background: rgba(255, 152, 0, 0.3);
        color: #ff9800;
      }

      .mode-card.expert {
        border-color: rgba(156, 39, 176, 0.5);
      }
      .mode-card.expert .mode-badge {
        background: rgba(156, 39, 176, 0.3);
        color: #9c27b0;
      }

      .mode-card.master {
        border-color: rgba(244, 67, 54, 0.5);
      }
      .mode-card.master .mode-badge {
        background: rgba(244, 67, 54, 0.3);
        color: #f44336;
      }

      /* ===== ãƒ•ãƒƒã‚¿ãƒ¼ ===== */
      footer {
        max-width: 1200px;
        margin: 4rem auto 2rem;
        padding: 2rem 1.5rem 1rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        text-align: center;
      }

      .footer-links {
        display: flex;
        justify-content: center;
        gap: 2rem;
        margin-bottom: 1rem;
        flex-wrap: wrap;
      }

      .footer-btn {
        background: none;
        border: none;
        color: #888;
        font-size: 0.9rem;
        cursor: pointer;
        transition: color 0.3s ease;
        text-decoration: none;
      }

      .footer-btn:hover {
        color: #ffffff;
      }

      .footer-text {
        color: #999;
        font-size: 0.85rem;
      }

      /* ===== ã‚¿ã‚¤ãƒ« ===== */
      .tile {
        width: 60px;
        height: 60px;
        border-radius: 16px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        position: relative;
        overflow: hidden;
      }

      .tile::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.3) 0%,
          rgba(255, 255, 255, 0) 50%
        );
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .tile:hover {
        transform: translateY(-4px) scale(1.05);
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
      }

      .tile:hover::before {
        opacity: 1;
      }

      .tile:active {
        transform: scale(0.95);
      }

      .tile.selected {
        animation: tileSelect 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        box-shadow: 0 0 20px currentColor;
      }

      @keyframes tileSelect {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(0.9);
        }
        100% {
          transform: scale(1.1);
        }
      }

      /* å„ã‚¿ã‚¤ãƒ«ã®é…è‰² */
      .tile.star {
        background: linear-gradient(135deg, #ffd700 0%, #ffa500 100%);
        color: #8b4513;
      }
      .tile.circle {
        background: linear-gradient(135deg, #4fc3f7 0%, #0288d1 100%);
        color: #ffffff;
      }
      .tile.triangle {
        background: linear-gradient(135deg, #ff5252 0%, #d32f2f 100%);
        color: #ffffff;
      }
      .tile.square {
        background: linear-gradient(135deg, #66bb6a 0%, #388e3c 100%);
        color: #ffffff;
      }
      .tile.diamond {
        background: linear-gradient(135deg, #ba68c8 0%, #7b1fa2 100%);
        color: #ffffff;
      }
      .tile.spade {
        background: linear-gradient(135deg, #78909c 0%, #455a64 100%);
        color: #ffffff;
      }
      .tile.heart {
        background: linear-gradient(135deg, #f06292 0%, #c2185b 100%);
        color: #ffffff;
      }
      .tile.club {
        background: linear-gradient(135deg, #26a69a 0%, #00796b 100%);
        color: #ffffff;
      }

      /* ã‚¿ã‚¤ãƒ«ãƒœã‚¿ãƒ³åŒ–ã®ãƒªã‚»ãƒƒãƒˆ */
      button.tile {
        border: none;
        cursor: pointer;
        font-family: inherit;
      }

      button.tile:focus-visible {
        outline: 2px solid #667eea;
        outline-offset: 2px;
      }

      /* ç©ºã‚¹ãƒ­ãƒƒãƒˆã‚¹ã‚¿ã‚¤ãƒ« */
      .tile-slot {
        width: 60px;
        height: 60px;
        border: 2px dashed rgba(255, 255, 255, 0.4);
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.05);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* ç„¡åŠ¹åŒ–ã•ã‚ŒãŸã‚¿ã‚¤ãƒ« */
      .tile.disabled {
        opacity: 0.3;
        cursor: not-allowed;
        pointer-events: none;
      }

      /* ãƒ‡ã‚¤ãƒªãƒ¼ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚»ãƒ« */
      .daily-cell {
        flex-direction: column;
        gap: 2px;
        font-size: 0.8rem;
      }

      .daily-cell.win::after {
        content: 'â—‹';
        font-size: 0.65rem;
        color: #4caf50;
      }

      .daily-cell.lose::after {
        content: 'âœ•';
        font-size: 0.65rem;
        color: #f44336;
      }

      /* ===== ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ç”»é¢ ===== */
      .tutorial-container {
        max-width: 800px;
        margin: 0 auto;
      }

      .tutorial-card {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 2rem;
        margin-bottom: 2rem;
      }

      .tutorial-step {
        margin-bottom: 2rem;
        display: none;
      }

      .tutorial-step.active {
        display: block;
      }

      .step-title {
        font-size: 1.5rem;
        font-weight: bold;
        margin-bottom: 1rem;
        color: #f093fb;
      }

      .step-description {
        color: #d0d0d0;
        line-height: 1.8;
        margin-bottom: 1.5rem;
      }

      .step-visual {
        background: rgba(0, 0, 0, 0.3);
        border-radius: 12px;
        padding: 1.5rem;
        margin: 1rem 0;
      }

      .tiles-row {
        display: flex;
        gap: 0.75rem;
        justify-content: center;
        flex-wrap: wrap;
        margin: 1rem 0;
      }

      .result-indicator {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        background: rgba(255, 255, 255, 0.1);
        padding: 0.5rem 1rem;
        border-radius: 8px;
        margin: 0.5rem;
      }

      .result-indicator.hit {
        background: rgba(76, 175, 80, 0.3);
        border: 1px solid rgba(76, 175, 80, 0.5);
      }

      .result-indicator.blow {
        background: rgba(255, 193, 7, 0.3);
        border: 1px solid rgba(255, 193, 7, 0.5);
      }

      .step-indicator {
        display: flex;
        justify-content: center;
        gap: 0.5rem;
        margin: 2rem 0;
      }

      .step-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transition: all 0.3s ease;
      }

      .step-dot.active {
        background: #667eea;
        width: 32px;
        border-radius: 6px;
      }

      .tutorial-actions {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
      }

      .btn {
        padding: 0.75rem 2rem;
        border-radius: 12px;
        border: none;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .btn-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #ffffff;
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(102, 126, 234, 0.6);
      }

      .btn-secondary {
        background: rgba(255, 255, 255, 0.1);
        color: #ffffff;
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .btn-secondary:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      /* ===== ãƒ•ãƒªãƒ¼ãƒ—ãƒ¬ã‚¤ãƒ»ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ£ãƒ¬ãƒ³ã‚¸ç”»é¢ ===== */
      .game-container {
        max-width: 600px;
        margin: 0 auto;
      }

      .game-info {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
      }

      .info-item {
        text-align: center;
      }

      .info-label {
        font-size: 0.85rem;
        color: #888;
        margin-bottom: 0.5rem;
      }

      .info-value {
        font-size: 1.5rem;
        font-weight: bold;
        color: #ffffff;
      }

      /* å††å½¢ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */
      .progress-container {
        display: flex;
        justify-content: center;
      }

      .circular-progress {
        position: relative;
        width: 100px;
        height: 100px;
      }

      .circular-progress svg {
        transform: rotate(-90deg);
      }

      .progress-bg {
        fill: none;
        stroke: rgba(255, 255, 255, 0.1);
        stroke-width: 8;
      }

      .progress-bar {
        fill: none;
        stroke: #4caf50;
        stroke-width: 8;
        stroke-linecap: round;
        transition:
          stroke-dashoffset 0.5s ease,
          stroke 0.3s ease;
      }

      .progress-bar.warning {
        stroke: #ffc107;
      }

      .progress-bar.danger {
        stroke: #f44336;
      }

      .progress-text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
      }

      .progress-value {
        font-size: 1.5rem;
        font-weight: bold;
        color: #ffffff;
      }

      .progress-label {
        font-size: 0.75rem;
        color: #888;
      }

      .game-board {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 2rem;
        margin-bottom: 2rem;
      }

      .guess-history {
        margin-bottom: 2rem;
      }

      .guess-row {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 12px;
        margin-bottom: 0.75rem;
      }

      .guess-tiles {
        display: flex;
        gap: 0.5rem;
        flex: 1;
      }

      .guess-result {
        display: flex;
        gap: 1rem;
        font-weight: bold;
      }

      .hit-count {
        color: #4caf50;
      }

      .blow-count {
        color: #ffc107;
      }

      .current-guess {
        background: rgba(255, 255, 255, 0.08);
        border: 2px dashed rgba(255, 255, 255, 0.3);
        border-radius: 12px;
        padding: 1.5rem;
        margin-bottom: 2rem;
      }

      .current-guess-label {
        font-size: 0.9rem;
        color: #888;
        margin-bottom: 1rem;
        text-align: center;
      }

      .tile-palette {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .game-actions {
        display: flex;
        gap: 1rem;
        justify-content: center;
      }

      .btn-submit {
        flex: 1;
        max-width: 200px;
        background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
        color: #ffffff;
        padding: 1rem 2rem;
        border: none;
        border-radius: 12px;
        font-size: 1.1rem;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
      }

      .btn-submit:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(76, 175, 80, 0.6);
      }

      .btn-submit:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
      }

      .btn-clear {
        background: rgba(255, 255, 255, 0.1);
        color: #ffffff;
        padding: 1rem 1.5rem;
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 12px;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .btn-clear:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      /* ===== ã‚²ãƒ¼ãƒ çµæœç”»é¢ ===== */
      .result-container {
        max-width: 600px;
        margin: 0 auto;
        text-align: center;
      }

      .result-hero {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 3rem 2rem;
        margin-bottom: 2rem;
        position: relative;
        overflow: hidden;
      }

      .result-hero.win {
        border-color: rgba(255, 215, 0, 0.5);
        background: linear-gradient(
          135deg,
          rgba(255, 215, 0, 0.1) 0%,
          rgba(255, 165, 0, 0.1) 100%
        );
      }

      .result-hero.lose {
        border-color: rgba(33, 150, 243, 0.5);
        background: linear-gradient(
          135deg,
          rgba(33, 150, 243, 0.1) 0%,
          rgba(25, 118, 210, 0.1) 100%
        );
      }

      .result-icon {
        font-size: 5rem;
        margin-bottom: 1rem;
        animation: resultPop 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      }

      @keyframes resultPop {
        0% {
          transform: scale(0);
          opacity: 0;
        }
        50% {
          transform: scale(1.2);
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .result-title {
        font-size: 2rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
      }

      .result-message {
        font-size: 1.1rem;
        color: #b0b0b0;
        margin-bottom: 1.5rem;
      }

      .result-stats {
        display: flex;
        justify-content: center;
        gap: 2rem;
        flex-wrap: wrap;
      }

      .result-stat {
        background: rgba(0, 0, 0, 0.3);
        border-radius: 12px;
        padding: 1rem 1.5rem;
      }

      .result-stat-value {
        font-size: 2rem;
        font-weight: bold;
        color: #667eea;
      }

      .result-stat-label {
        font-size: 0.9rem;
        color: #888;
        margin-top: 0.25rem;
      }

      /* è©¦è¡Œå±¥æ­´ */
      .history-section {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 1.5rem;
        margin-bottom: 2rem;
      }

      .history-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
        cursor: pointer;
      }

      .history-title {
        font-size: 1.2rem;
        font-weight: bold;
      }

      .toggle-icon {
        font-size: 1.5rem;
        transition: transform 0.3s ease;
      }

      .toggle-icon.open {
        transform: rotate(180deg);
      }

      .history-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
      }

      .history-content.open {
        max-height: 1000px;
      }

      .answer-reveal {
        background: rgba(0, 0, 0, 0.4);
        border-radius: 12px;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        text-align: center;
      }

      .answer-label {
        font-size: 0.9rem;
        color: #888;
        margin-bottom: 1rem;
      }

      /* ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ */
      .share-section {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 1.5rem;
        margin-bottom: 2rem;
      }

      .share-title {
        font-size: 1.2rem;
        font-weight: bold;
        margin-bottom: 1rem;
        text-align: center;
      }

      .share-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
      }

      .share-btn {
        flex: 1;
        min-width: 140px;
        max-width: 180px;
        padding: 1rem;
        border: none;
        border-radius: 12px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      .share-btn.x {
        background: #000000;
        color: #ffffff;
      }

      .share-btn.x:hover {
        background: #1a1a1a;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
      }

      .share-btn.line {
        background: #00b900;
        color: #ffffff;
      }

      .share-btn.line:hover {
        background: #00a000;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 185, 0, 0.5);
      }

      .share-btn.threads {
        background: linear-gradient(135deg, #000000 0%, #333333 100%);
        color: #ffffff;
      }

      .share-btn.threads:hover {
        background: linear-gradient(135deg, #1a1a1a 0%, #444444 100%);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
      }

      .result-actions {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
      }

      /* ===== è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ« ===== */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(5px);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        padding: 1rem;
      }

      .modal-overlay.active {
        display: flex;
      }

      .modal-content {
        background: rgba(26, 26, 46, 0.95);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 16px;
        padding: 2rem;
        max-width: 500px;
        width: 100%;
        max-height: 90vh;
        overflow-y: auto;
        animation: modalSlideIn 0.3s ease;
      }

      @keyframes modalSlideIn {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
      }

      .modal-title {
        font-size: 1.5rem;
        font-weight: bold;
      }

      .modal-close {
        background: none;
        border: none;
        color: #888;
        font-size: 1.5rem;
        cursor: pointer;
        padding: 0.5rem;
        transition: color 0.3s ease;
      }

      .modal-close:hover {
        color: #ffffff;
      }

      .settings-group {
        margin-bottom: 2rem;
      }

      .settings-group-title {
        font-size: 1.1rem;
        font-weight: bold;
        margin-bottom: 1rem;
        color: #667eea;
      }

      .setting-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 12px;
        margin-bottom: 0.75rem;
      }

      .setting-label {
        font-size: 1rem;
        color: #ffffff;
      }

      .setting-description {
        font-size: 0.85rem;
        color: #888;
        margin-top: 0.25rem;
      }

      /* ãƒˆã‚°ãƒ«ã‚¹ã‚¤ãƒƒãƒ */
      .toggle-switch {
        position: relative;
        width: 50px;
        height: 26px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 13px;
        cursor: pointer;
        transition: background 0.3s ease;
      }

      .toggle-switch.active {
        background: #4caf50;
      }

      .toggle-slider {
        position: absolute;
        top: 3px;
        left: 3px;
        width: 20px;
        height: 20px;
        background: #ffffff;
        border-radius: 50%;
        transition: transform 0.3s ease;
      }

      .toggle-switch.active .toggle-slider {
        transform: translateX(24px);
      }

      /* ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ */
      .radio-group {
        display: flex;
        gap: 0.75rem;
        flex-wrap: wrap;
      }

      .radio-option {
        flex: 1;
        min-width: 100px;
        padding: 0.75rem 1rem;
        background: rgba(255, 255, 255, 0.05);
        border: 2px solid rgba(255, 255, 255, 0.2);
        border-radius: 12px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .radio-option:hover {
        background: rgba(255, 255, 255, 0.1);
      }

      .radio-option.active {
        background: rgba(102, 126, 234, 0.3);
        border-color: #667eea;
        color: #667eea;
      }

      .settings-links {
        padding-top: 1.5rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      .settings-link {
        display: block;
        padding: 0.75rem;
        color: #888;
        text-decoration: none;
        transition: color 0.3s ease;
        text-align: center;
      }

      .settings-link:hover {
        color: #ffffff;
      }

      /* ===== çµ±è¨ˆç”»é¢ ===== */
      .stats-container {
        max-width: 800px;
        margin: 0 auto;
      }

      .stats-overview {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 2rem;
        margin-bottom: 2rem;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
      }

      .stat-box {
        text-align: center;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 12px;
        padding: 1.5rem;
      }

      .stat-box-value {
        font-size: 2.5rem;
        font-weight: bold;
        color: #667eea;
        margin-bottom: 0.5rem;
      }

      .stat-box-label {
        font-size: 0.9rem;
        color: #888;
      }

      /* ãƒ¢ãƒ¼ãƒ‰åˆ¥çµ±è¨ˆ */
      .mode-stats {
        margin-bottom: 2rem;
      }

      .mode-stat-card {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 1.5rem;
        margin-bottom: 1rem;
      }

      .mode-stat-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .mode-stat-name {
        font-size: 1.2rem;
        font-weight: bold;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .mode-stat-details {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 1rem;
      }

      .mode-stat-item {
        text-align: center;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 8px;
        padding: 0.75rem;
      }

      .mode-stat-value {
        font-size: 1.3rem;
        font-weight: bold;
        color: #ffffff;
      }

      .mode-stat-label {
        font-size: 0.8rem;
        color: #888;
        margin-top: 0.25rem;
      }

      .win-rate-bar {
        margin-top: 1rem;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 8px;
        height: 8px;
        overflow: hidden;
      }

      .win-rate-fill {
        height: 100%;
        background: linear-gradient(90deg, #4caf50 0%, #45a049 100%);
        border-radius: 8px;
        transition: width 0.5s ease;
      }

      /* ãƒ‡ã‚¤ãƒªãƒ¼å±¥æ­´ */
      .daily-history {
        margin-bottom: 2rem;
      }

      .daily-history-title {
        font-size: 1.3rem;
        font-weight: bold;
        margin-bottom: 1rem;
      }

      .daily-calendar {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 0.5rem;
      }

      .daily-cell {
        aspect-ratio: 1;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.85rem;
        position: relative;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .daily-cell:hover {
        background: rgba(255, 255, 255, 0.1);
      }

      .daily-cell.win {
        background: rgba(76, 175, 80, 0.3);
        border: 1px solid rgba(76, 175, 80, 0.5);
      }

      .daily-cell.lose {
        background: rgba(244, 67, 54, 0.3);
        border: 1px solid rgba(244, 67, 54, 0.5);
      }

      .daily-cell.empty {
        opacity: 0.3;
      }

      .daily-month-header {
        font-size: 0.95rem;
        font-weight: bold;
        color: #aaa;
        margin-bottom: 0.75rem;
        text-align: center;
      }

      /* ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«æ•´ç†ç”¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ */
      .arrow-icon {
        color: #667eea;
      }
      .progress-full-width {
        grid-column: 1 / -1;
      }
      .history-heading {
        margin-bottom: 1rem;
        font-size: 1.2rem;
      }
      .countdown-label {
        font-size: 0.85rem;
        opacity: 0.8;
      }
      .settings-radio-group {
        margin-top: 0.5rem;
      }
      .settings-language-section {
        margin-top: 1rem;
      }

      /* ===== ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– ===== */
      @media (max-width: 640px) {
        .game-title {
          font-size: 2rem;
        }

        .modes-grid {
          grid-template-columns: 1fr;
        }

        .tile {
          width: 50px;
          height: 50px;
          min-width: 44px;
          min-height: 44px;
          font-size: 1.5rem;
        }

        .tile-palette {
          grid-template-columns: repeat(4, 1fr);
          gap: 0.75rem;
        }

        .game-info {
          flex-direction: column;
          gap: 1rem;
        }

        .header-title {
          font-size: 1rem;
        }

        .footer-links {
          flex-direction: column;
          gap: 0.75rem;
        }

        .share-buttons {
          flex-direction: column;
        }

        .share-btn {
          max-width: 100%;
        }

        .stats-grid {
          grid-template-columns: repeat(2, 1fr);
        }

        .daily-calendar {
          grid-template-columns: repeat(5, 1fr);
        }
      }

      @media (min-width: 641px) and (max-width: 1024px) {
        .modes-grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }
    </style>
  </head>
  <body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header>
      <div class="header-left">
        <button class="back-btn" id="backBtn" aria-label="æˆ»ã‚‹">â†</button>
        <div class="logo" id="logoText">ğŸ¯ Tile H&amp;B</div>
        <h1 class="header-title" id="headerTitle"></h1>
      </div>
      <div class="header-right">
        <button class="icon-btn lang-btn" id="langBtn" aria-label="è¨€èªåˆ‡æ›¿">
          ğŸŒ JA<span class="arrow">â–¼</span>
        </button>
        <button class="icon-btn" id="settingsBtn" aria-label="è¨­å®š">âš™ï¸</button>
      </div>
    </header>

    <main>
      <!-- ========== ãƒ›ãƒ¼ãƒ ç”»é¢ ========== -->
      <section class="screen active" id="homeScreen">
        <div class="hero">
          <h2 class="game-title">ã‚¿ã‚¤ãƒ«ãƒ’ãƒƒãƒˆã‚¢ãƒ³ãƒ‰ãƒ–ãƒ­ãƒ¼</h2>
          <p class="game-subtitle">ã‚·ãƒ³ãƒœãƒ«ã‚’ä½¿ã£ãŸæ¨ç†ã‚²ãƒ¼ãƒ </p>

          <!-- åˆå›å°‚ç”¨ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« -->
          <button class="tutorial-highlight" onclick="showScreen('tutorial')">
            â“ åˆã‚ã¦ã®æ–¹ã¸ - éŠã³æ–¹ã‚’è¦‹ã‚‹
          </button>
        </div>

        <!-- ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ£ãƒ¬ãƒ³ã‚¸ -->
        <article class="daily-challenge" onclick="showScreen('daily')">
          <div class="daily-header">
            <div class="daily-title">
              ğŸ“… ä»Šæ—¥ã®å•é¡Œ
              <span class="daily-badge">å…¨å“¡å…±é€š</span>
            </div>
          </div>
          <p class="daily-description">
            ãƒãƒ¼ãƒãƒ«ãƒ¢ãƒ¼ãƒ‰ï½œ4æ¡ãƒ»é‡è¤‡ãªã—ãƒ»8å›ã¾ã§<br />
            1æ—¥1å›ã®ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼<br />
            <span id="dailyCountdown" class="countdown-label"
              >èª­ã¿è¾¼ã¿ä¸­...</span
            >
          </p>
        </article>

        <!-- éŠã‚“ã è¨˜éŒ²ã‚«ãƒ¼ãƒ‰ -->
        <article class="stats-card" onclick="showScreen('stats')">
          <div class="stats-header">
            <div class="stats-title">éŠã‚“ã è¨˜éŒ²</div>
            <div class="arrow-icon">â†’</div>
          </div>
          <div class="stats-summary">
            <div class="stats-item">
              <div class="stats-value">42</div>
              <div class="stats-label">ãƒ—ãƒ¬ã‚¤æ•°</div>
            </div>
            <div class="stats-item">
              <div class="stats-value">28</div>
              <div class="stats-label">å‹åˆ©æ•°</div>
            </div>
            <div class="stats-item">
              <div class="stats-value">66.7%</div>
              <div class="stats-label">å‹ç‡</div>
            </div>
          </div>
        </article>

        <!-- ãƒ¢ãƒ¼ãƒ‰é¸æŠ -->
        <section class="modes-section">
          <h3 class="section-title">ãƒ•ãƒªãƒ¼ãƒ—ãƒ¬ã‚¤ - ãƒ¢ãƒ¼ãƒ‰é¸æŠ</h3>
          <div class="modes-grid">
            <!-- ãƒ“ã‚®ãƒŠãƒ¼ -->
            <article
              class="mode-card beginner"
              onclick="showScreen('freeplay')"
            >
              <div class="mode-header">
                <div class="mode-icon">ğŸ¯</div>
              </div>
              <h4 class="mode-name">ãƒ“ã‚®ãƒŠãƒ¼</h4>
              <p class="mode-details">
                3æ¡ãƒ»é‡è¤‡ãªã—ãƒ»6å›ã¾ã§<br />
                åˆå¿ƒè€…ã«ãŠã™ã™ã‚
              </p>
              <span class="mode-badge">EASY</span>
            </article>

            <!-- ãƒãƒ¼ãƒãƒ« -->
            <article class="mode-card normal" onclick="showScreen('freeplay')">
              <div class="mode-header">
                <div class="mode-icon">âš¡</div>
              </div>
              <h4 class="mode-name">ãƒãƒ¼ãƒãƒ«</h4>
              <p class="mode-details">
                4æ¡ãƒ»é‡è¤‡ãªã—ãƒ»8å›ã¾ã§<br />
                æ¨™æº–çš„ãªé›£æ˜“åº¦
              </p>
              <span class="mode-badge">NORMAL</span>
            </article>

            <!-- ãƒãƒ¼ãƒ‰ -->
            <article class="mode-card hard" onclick="showScreen('freeplay')">
              <div class="mode-header">
                <div class="mode-icon">ğŸ”¥</div>
              </div>
              <h4 class="mode-name">ãƒãƒ¼ãƒ‰</h4>
              <p class="mode-details">
                4æ¡ãƒ»é‡è¤‡ã‚ã‚Šãƒ»10å›ã¾ã§<br />
                æ¨ç†åŠ›ãŒè©¦ã•ã‚Œã‚‹
              </p>
              <span class="mode-badge">HARD</span>
            </article>

            <!-- ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆï¼ˆæœªè§£æ”¾ï¼‰ -->
            <article class="mode-card expert locked">
              <div class="mode-header">
                <div class="mode-icon">ğŸ’</div>
                <div class="mode-lock">ğŸ”’</div>
              </div>
              <h4 class="mode-name">ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆ</h4>
              <p class="mode-details">
                8æ¡ãƒ»é‡è¤‡ãªã—ãƒ»12å›ã¾ã§<br />
                ãƒãƒ¼ãƒãƒ«ã‚¯ãƒªã‚¢ã§è§£æ”¾
              </p>
              <span class="mode-badge">EXPERT</span>
            </article>

            <!-- ãƒã‚¹ã‚¿ãƒ¼ï¼ˆæœªè§£æ”¾ï¼‰ -->
            <article class="mode-card master locked">
              <div class="mode-header">
                <div class="mode-icon">ğŸ‘‘</div>
                <div class="mode-lock">ğŸ”’</div>
              </div>
              <h4 class="mode-name">ãƒã‚¹ã‚¿ãƒ¼</h4>
              <p class="mode-details">
                8æ¡ãƒ»é‡è¤‡ã‚ã‚Šãƒ»15å›ã¾ã§<br />
                ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã‚¯ãƒªã‚¢ã§è§£æ”¾
              </p>
              <span class="mode-badge">MASTER</span>
            </article>
          </div>
        </section>
      </section>

      <!-- ========== ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ç”»é¢ ========== -->
      <section class="screen" id="tutorialScreen">
        <div class="tutorial-container">
          <div class="tutorial-card">
            <article class="tutorial-step">
              <h3 class="step-title">ğŸ¯ ã‚²ãƒ¼ãƒ ã®ç›®çš„</h3>
              <p class="step-description">
                ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãŒé¸ã‚“ã ã‚¿ã‚¤ãƒ«ã®ä¸¦ã³ã‚’æ¨ç†ã—ã¦å½“ã¦ã¾ã—ã‚‡ã†ï¼<br />
                åˆ¶é™å›æ•°ä»¥å†…ã«æ­£è§£ã§ãã‚Œã°ã‚¯ãƒªã‚¢ã§ã™ã€‚
              </p>

              <div class="step-visual">
                <p style="text-align: center; margin-bottom: 1rem; color: #888">
                  æ­£è§£ã®ä¾‹ï¼ˆã‚ãªãŸã«ã¯è¦‹ãˆã¾ã›ã‚“ï¼‰
                </p>
                <div class="tiles-row">
                  <div class="tile star">â˜…</div>
                  <div class="tile circle">â—</div>
                  <div class="tile triangle">â–²</div>
                  <div class="tile square">â– </div>
                </div>
              </div>
            </article>

            <article class="tutorial-step">
              <h3 class="step-title">ğŸ’¡ ãƒ’ãƒƒãƒˆãƒ»ãƒ–ãƒ­ãƒ¼ã®ä»•çµ„ã¿</h3>
              <p class="step-description">
                æ¨æ¸¬ã™ã‚‹ãŸã³ã«ã€2ç¨®é¡ã®ãƒ’ãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š
              </p>

              <div class="step-visual">
                <p style="margin-bottom: 1rem">
                  <strong>ã‚ãªãŸã®æ¨æ¸¬ï¼š</strong>
                </p>
                <div class="tiles-row">
                  <div class="tile star">â˜…</div>
                  <div class="tile heart">â™¥</div>
                  <div class="tile circle">â—</div>
                  <div class="tile square">â– </div>
                </div>

                <p style="margin: 1.5rem 0 1rem; text-align: center">
                  â†“ çµæœ â†“
                </p>

                <div style="text-align: center">
                  <div class="result-indicator hit">
                    <strong>ãƒ’ãƒƒãƒˆ: 2</strong>
                    <span>ï¼ˆã‚¿ã‚¤ãƒ«ã¨ä½ç½®ãŒä¸¡æ–¹æ­£è§£ï¼‰</span>
                  </div>
                  <div class="result-indicator blow">
                    <strong>ãƒ–ãƒ­ãƒ¼: 1</strong>
                    <span>ï¼ˆã‚¿ã‚¤ãƒ«ã¯æ­£è§£ã ãŒä½ç½®ãŒé•ã†ï¼‰</span>
                  </div>
                </div>

                <p style="margin-top: 1.5rem; color: #888; font-size: 0.9rem">
                  â˜…ã¨â– ãŒä½ç½®ã‚‚æ­£è§£ï¼ˆãƒ’ãƒƒãƒˆ2ï¼‰<br />
                  â—ã¯å«ã¾ã‚Œã¦ã„ã‚‹ãŒä½ç½®ãŒé•ã†ï¼ˆãƒ–ãƒ­ãƒ¼1ï¼‰<br />
                  â™¥ã¯å«ã¾ã‚Œã¦ã„ãªã„
                </p>
              </div>
            </article>

            <article class="tutorial-step">
              <h3 class="step-title">ğŸ¨ ä½¿ãˆã‚‹ã‚¿ã‚¤ãƒ«</h3>
              <p class="step-description">
                ä»¥ä¸‹ã®8ç¨®é¡ã®ã‚¿ã‚¤ãƒ«ã‹ã‚‰é¸ã¹ã¾ã™ã€‚ãã‚Œãã‚Œè‰²ãŒé•ã†ã®ã§è¦‹åˆ†ã‘ã‚„ã™ããªã£ã¦ã„ã¾ã™ã€‚
              </p>

              <div class="tiles-row">
                <div class="tile star">â˜…</div>
                <div class="tile circle">â—</div>
                <div class="tile triangle">â–²</div>
                <div class="tile square">â– </div>
                <div class="tile diamond">â—†</div>
                <div class="tile spade">â™ </div>
                <div class="tile heart">â™¥</div>
                <div class="tile club">â™£</div>
              </div>
            </article>

            <div class="step-indicator">
              <div class="step-dot active"></div>
              <div class="step-dot"></div>
              <div class="step-dot"></div>
            </div>

            <div class="tutorial-actions">
              <button class="btn btn-secondary" onclick="showScreen('home')">
                ã‚¹ã‚­ãƒƒãƒ—
              </button>
              <button
                class="btn btn-primary"
                id="tutorialNextBtn"
                onclick="goToTutorialStep(1)"
              >
                æ¬¡ã¸
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- ========== ãƒ•ãƒªãƒ¼ãƒ—ãƒ¬ã‚¤ç”»é¢ ========== -->
      <section class="screen" id="freeplayScreen">
        <div class="game-container">
          <!-- ã‚²ãƒ¼ãƒ æƒ…å ± -->
          <div class="game-info">
            <div class="info-item">
              <div class="info-label">ãƒ¢ãƒ¼ãƒ‰</div>
              <div class="info-value">ãƒãƒ¼ãƒãƒ«</div>
            </div>
            <div class="info-item">
              <div class="info-label">æ¡æ•°</div>
              <div class="info-value">4æ¡</div>
            </div>
            <div class="info-item">
              <div class="info-label">é‡è¤‡</div>
              <div class="info-value">ãªã—</div>
            </div>

            <!-- å††å½¢ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ -->
            <div class="progress-container progress-full-width">
              <div class="circular-progress">
                <svg width="100" height="100">
                  <circle class="progress-bg" cx="50" cy="50" r="42" />
                  <circle
                    class="progress-bar"
                    cx="50"
                    cy="50"
                    r="42"
                    stroke-dasharray="264"
                    stroke-dashoffset="33"
                  />
                </svg>
                <div class="progress-text">
                  <div class="progress-value">7/8</div>
                  <div class="progress-label">å›</div>
                </div>
              </div>
            </div>
          </div>

          <!-- ã‚²ãƒ¼ãƒ ãƒœãƒ¼ãƒ‰ -->
          <div class="game-board">
            <!-- æ¨æ¸¬å±¥æ­´ -->
            <div class="guess-history">
              <h3 class="history-heading">ã“ã‚Œã¾ã§ã®æ¨æ¸¬</h3>

              <div class="guess-row">
                <div class="guess-tiles">
                  <div class="tile star">â˜…</div>
                  <div class="tile heart">â™¥</div>
                  <div class="tile circle">â—</div>
                  <div class="tile square">â– </div>
                </div>
                <div class="guess-result">
                  <span class="hit-count">ãƒ’ãƒƒãƒˆ: 2</span>
                  <span class="blow-count">ãƒ–ãƒ­ãƒ¼: 1</span>
                </div>
              </div>
            </div>

            <!-- ç¾åœ¨ã®æ¨æ¸¬ -->
            <div class="current-guess">
              <div class="current-guess-label">
                ã‚¿ã‚¤ãƒ«ã‚’é¸ã‚“ã§ä¸¦ã¹ã¦ãã ã•ã„
              </div>
              <div class="tiles-row" id="currentGuessTiles">
                <button
                  class="tile star"
                  aria-label="ã‚¹ã‚¿ãƒ¼ï¼ˆã‚¯ãƒªãƒƒã‚¯ã§å‰Šé™¤ï¼‰"
                  onclick="removeFromGuess(this)"
                >
                  â˜…
                </button>
                <button
                  class="tile diamond"
                  aria-label="ãƒ€ã‚¤ãƒ¤ï¼ˆã‚¯ãƒªãƒƒã‚¯ã§å‰Šé™¤ï¼‰"
                  onclick="removeFromGuess(this)"
                >
                  â—†
                </button>
                <div class="tile-slot" aria-label="ç©ºã®ã‚¹ãƒ­ãƒƒãƒˆ"></div>
                <div class="tile-slot" aria-label="ç©ºã®ã‚¹ãƒ­ãƒƒãƒˆ"></div>
              </div>
            </div>

            <!-- ã‚¿ã‚¤ãƒ«ãƒ‘ãƒ¬ãƒƒãƒˆ -->
            <div class="tile-palette">
              <button
                class="tile star disabled"
                aria-label="ã‚¹ã‚¿ãƒ¼ï¼ˆé¸æŠæ¸ˆã¿ï¼‰"
                disabled
              >
                â˜…
              </button>
              <button
                class="tile circle"
                aria-label="ã‚µãƒ¼ã‚¯ãƒ«"
                onclick="addToGuess(this)"
              >
                â—
              </button>
              <button
                class="tile triangle"
                aria-label="ãƒˆãƒ©ã‚¤ã‚¢ãƒ³ã‚°ãƒ«"
                onclick="addToGuess(this)"
              >
                â–²
              </button>
              <button
                class="tile square"
                aria-label="ã‚¹ã‚¯ã‚¨ã‚¢"
                onclick="addToGuess(this)"
              >
                â– 
              </button>
              <button
                class="tile diamond disabled"
                aria-label="ãƒ€ã‚¤ãƒ¤ï¼ˆé¸æŠæ¸ˆã¿ï¼‰"
                disabled
              >
                â—†
              </button>
              <button
                class="tile spade"
                aria-label="ã‚¹ãƒšãƒ¼ãƒ‰"
                onclick="addToGuess(this)"
              >
                â™ 
              </button>
              <button
                class="tile heart"
                aria-label="ãƒãƒ¼ãƒˆ"
                onclick="addToGuess(this)"
              >
                â™¥
              </button>
              <button
                class="tile club"
                aria-label="ã‚¯ãƒ©ãƒ–"
                onclick="addToGuess(this)"
              >
                â™£
              </button>
            </div>

            <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ -->
            <div class="game-actions">
              <button class="btn-clear">ã‚¯ãƒªã‚¢</button>
              <button class="btn-submit" onclick="showScreen('result-win')">
                æ¨æ¸¬ã™ã‚‹
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- ========== ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ£ãƒ¬ãƒ³ã‚¸ç”»é¢ ========== -->
      <section class="screen" id="dailyScreen">
        <div class="game-container">
          <!-- ã‚²ãƒ¼ãƒ æƒ…å ± -->
          <div class="game-info">
            <div class="info-item">
              <div class="info-label">ãƒ¢ãƒ¼ãƒ‰</div>
              <div class="info-value">ãƒãƒ¼ãƒãƒ«</div>
            </div>
            <div class="info-item">
              <div class="info-label">æ¡æ•°</div>
              <div class="info-value">4æ¡</div>
            </div>
            <div class="info-item">
              <div class="info-label">é‡è¤‡</div>
              <div class="info-value">ãªã—</div>
            </div>

            <!-- å††å½¢ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ -->
            <div class="progress-container progress-full-width">
              <div class="circular-progress">
                <svg width="100" height="100">
                  <circle class="progress-bg" cx="50" cy="50" r="42" />
                  <circle
                    class="progress-bar warning"
                    cx="50"
                    cy="50"
                    r="42"
                    stroke-dasharray="264"
                    stroke-dashoffset="132"
                  />
                </svg>
                <div class="progress-text">
                  <div class="progress-value">4/8</div>
                  <div class="progress-label">å›</div>
                </div>
              </div>
            </div>
          </div>

          <!-- ã‚²ãƒ¼ãƒ ãƒœãƒ¼ãƒ‰ -->
          <div class="game-board">
            <!-- æ¨æ¸¬å±¥æ­´ -->
            <div class="guess-history">
              <h3 class="history-heading">ã“ã‚Œã¾ã§ã®æ¨æ¸¬</h3>

              <div class="guess-row">
                <div class="guess-tiles">
                  <div class="tile star">â˜…</div>
                  <div class="tile heart">â™¥</div>
                  <div class="tile circle">â—</div>
                  <div class="tile square">â– </div>
                </div>
                <div class="guess-result">
                  <span class="hit-count">ãƒ’ãƒƒãƒˆ: 2</span>
                  <span class="blow-count">ãƒ–ãƒ­ãƒ¼: 1</span>
                </div>
              </div>

              <div class="guess-row">
                <div class="guess-tiles">
                  <div class="tile star">â˜…</div>
                  <div class="tile diamond">â—†</div>
                  <div class="tile triangle">â–²</div>
                  <div class="tile square">â– </div>
                </div>
                <div class="guess-result">
                  <span class="hit-count">ãƒ’ãƒƒãƒˆ: 2</span>
                  <span class="blow-count">ãƒ–ãƒ­ãƒ¼: 0</span>
                </div>
              </div>

              <div class="guess-row">
                <div class="guess-tiles">
                  <div class="tile star">â˜…</div>
                  <div class="tile spade">â™ </div>
                  <div class="tile club">â™£</div>
                  <div class="tile square">â– </div>
                </div>
                <div class="guess-result">
                  <span class="hit-count">ãƒ’ãƒƒãƒˆ: 2</span>
                  <span class="blow-count">ãƒ–ãƒ­ãƒ¼: 1</span>
                </div>
              </div>

              <div class="guess-row">
                <div class="guess-tiles">
                  <div class="tile star">â˜…</div>
                  <div class="tile club">â™£</div>
                  <div class="tile spade">â™ </div>
                  <div class="tile square">â– </div>
                </div>
                <div class="guess-result">
                  <span class="hit-count">ãƒ’ãƒƒãƒˆ: 3</span>
                  <span class="blow-count">ãƒ–ãƒ­ãƒ¼: 0</span>
                </div>
              </div>
            </div>

            <!-- ç¾åœ¨ã®æ¨æ¸¬ -->
            <div class="current-guess">
              <div class="current-guess-label">
                ã‚¿ã‚¤ãƒ«ã‚’é¸ã‚“ã§ä¸¦ã¹ã¦ãã ã•ã„
              </div>
              <div class="tiles-row" id="currentGuessTiles">
                <button
                  class="tile star"
                  aria-label="ã‚¹ã‚¿ãƒ¼ï¼ˆã‚¯ãƒªãƒƒã‚¯ã§å‰Šé™¤ï¼‰"
                  onclick="removeFromGuess(this)"
                >
                  â˜…
                </button>
                <button
                  class="tile club"
                  aria-label="ã‚¯ãƒ©ãƒ–ï¼ˆã‚¯ãƒªãƒƒã‚¯ã§å‰Šé™¤ï¼‰"
                  onclick="removeFromGuess(this)"
                >
                  â™£
                </button>
                <div class="tile-slot" aria-label="ç©ºã®ã‚¹ãƒ­ãƒƒãƒˆ"></div>
                <div class="tile-slot" aria-label="ç©ºã®ã‚¹ãƒ­ãƒƒãƒˆ"></div>
              </div>
            </div>

            <!-- ã‚¿ã‚¤ãƒ«ãƒ‘ãƒ¬ãƒƒãƒˆ -->
            <div class="tile-palette">
              <button
                class="tile star disabled"
                aria-label="ã‚¹ã‚¿ãƒ¼ï¼ˆé¸æŠæ¸ˆã¿ï¼‰"
                disabled
              >
                â˜…
              </button>
              <button
                class="tile circle"
                aria-label="ã‚µãƒ¼ã‚¯ãƒ«"
                onclick="addToGuess(this)"
              >
                â—
              </button>
              <button
                class="tile triangle"
                aria-label="ãƒˆãƒ©ã‚¤ã‚¢ãƒ³ã‚°ãƒ«"
                onclick="addToGuess(this)"
              >
                â–²
              </button>
              <button
                class="tile square"
                aria-label="ã‚¹ã‚¯ã‚¨ã‚¢"
                onclick="addToGuess(this)"
              >
                â– 
              </button>
              <button
                class="tile diamond"
                aria-label="ãƒ€ã‚¤ãƒ¤"
                onclick="addToGuess(this)"
              >
                â—†
              </button>
              <button
                class="tile spade"
                aria-label="ã‚¹ãƒšãƒ¼ãƒ‰"
                onclick="addToGuess(this)"
              >
                â™ 
              </button>
              <button
                class="tile heart"
                aria-label="ãƒãƒ¼ãƒˆ"
                onclick="addToGuess(this)"
              >
                â™¥
              </button>
              <button
                class="tile club disabled"
                aria-label="ã‚¯ãƒ©ãƒ–ï¼ˆé¸æŠæ¸ˆã¿ï¼‰"
                disabled
              >
                â™£
              </button>
            </div>

            <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ -->
            <div class="game-actions">
              <button class="btn-clear">ã‚¯ãƒªã‚¢</button>
              <button class="btn-submit" onclick="showScreen('result-win')">
                æ¨æ¸¬ã™ã‚‹
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- ========== ã‚²ãƒ¼ãƒ çµæœç”»é¢ï¼ˆå‹åˆ©ï¼‰ ========== -->
      <section class="screen" id="resultWinScreen">
        <div class="result-container">
          <!-- çµæœãƒ’ãƒ¼ãƒ­ãƒ¼ -->
          <div class="result-hero win">
            <div class="result-icon">ğŸ†</div>
            <h2 class="result-title">ã‚¯ãƒªã‚¢ï¼</h2>
            <p class="result-message">ç´ æ™´ã‚‰ã—ã„æ¨ç†åŠ›ã§ã™ï¼</p>
            <div class="result-stats">
              <div class="result-stat">
                <div class="result-stat-value">5å›</div>
                <div class="result-stat-label">è©¦è¡Œå›æ•°</div>
              </div>
              <div class="result-stat">
                <div class="result-stat-value">ãƒãƒ¼ãƒãƒ«</div>
                <div class="result-stat-label">ãƒ¢ãƒ¼ãƒ‰</div>
              </div>
            </div>
          </div>

          <!-- è©¦è¡Œå±¥æ­´ -->
          <div class="history-section">
            <div class="history-header" onclick="toggleHistory()">
              <h3 class="history-title">è©¦è¡Œå±¥æ­´ã‚’è¦‹ã‚‹</h3>
              <span class="toggle-icon" id="historyToggle">â–¼</span>
            </div>
            <div class="history-content" id="historyContent">
              <div class="answer-reveal">
                <div class="answer-label">æ­£è§£</div>
                <div class="tiles-row">
                  <div class="tile star">â˜…</div>
                  <div class="tile club">â™£</div>
                  <div class="tile circle">â—</div>
                  <div class="tile square">â– </div>
                </div>
              </div>

              <div class="guess-history">
                <div class="guess-row">
                  <div class="guess-tiles">
                    <div class="tile star">â˜…</div>
                    <div class="tile heart">â™¥</div>
                    <div class="tile circle">â—</div>
                    <div class="tile square">â– </div>
                  </div>
                  <div class="guess-result">
                    <span class="hit-count">ãƒ’ãƒƒãƒˆ: 3</span>
                    <span class="blow-count">ãƒ–ãƒ­ãƒ¼: 0</span>
                  </div>
                </div>

                <div class="guess-row">
                  <div class="guess-tiles">
                    <div class="tile star">â˜…</div>
                    <div class="tile diamond">â—†</div>
                    <div class="tile circle">â—</div>
                    <div class="tile square">â– </div>
                  </div>
                  <div class="guess-result">
                    <span class="hit-count">ãƒ’ãƒƒãƒˆ: 3</span>
                    <span class="blow-count">ãƒ–ãƒ­ãƒ¼: 0</span>
                  </div>
                </div>

                <div class="guess-row">
                  <div class="guess-tiles">
                    <div class="tile star">â˜…</div>
                    <div class="tile spade">â™ </div>
                    <div class="tile circle">â—</div>
                    <div class="tile square">â– </div>
                  </div>
                  <div class="guess-result">
                    <span class="hit-count">ãƒ’ãƒƒãƒˆ: 3</span>
                    <span class="blow-count">ãƒ–ãƒ­ãƒ¼: 0</span>
                  </div>
                </div>

                <div class="guess-row">
                  <div class="guess-tiles">
                    <div class="tile star">â˜…</div>
                    <div class="tile club">â™£</div>
                    <div class="tile triangle">â–²</div>
                    <div class="tile square">â– </div>
                  </div>
                  <div class="guess-result">
                    <span class="hit-count">ãƒ’ãƒƒãƒˆ: 3</span>
                    <span class="blow-count">ãƒ–ãƒ­ãƒ¼: 0</span>
                  </div>
                </div>

                <div class="guess-row">
                  <div class="guess-tiles">
                    <div class="tile star">â˜…</div>
                    <div class="tile club">â™£</div>
                    <div class="tile circle">â—</div>
                    <div class="tile square">â– </div>
                  </div>
                  <div class="guess-result">
                    <span class="hit-count">ãƒ’ãƒƒãƒˆ: 4</span>
                    <span class="blow-count">ãƒ–ãƒ­ãƒ¼: 0</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- ã‚·ã‚§ã‚¢ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
          <div class="share-section">
            <h3 class="share-title">çµæœã‚’ã‚·ã‚§ã‚¢</h3>
            <div class="share-buttons">
              <button class="share-btn x" onclick="alert('Xã§ã‚·ã‚§ã‚¢')">
                ğ• X
              </button>
              <button class="share-btn line" onclick="alert('LINEã§ã‚·ã‚§ã‚¢')">
                LINE
              </button>
              <button
                class="share-btn threads"
                onclick="alert('Threadsã§ã‚·ã‚§ã‚¢')"
              >
                Threads
              </button>
            </div>
          </div>

          <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ -->
          <div class="result-actions">
            <button class="btn btn-primary" onclick="showScreen('home')">
              ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹
            </button>
            <button
              class="btn btn-secondary"
              id="replayBtnWin"
              onclick="showScreen('freeplay')"
            >
              ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤
            </button>
          </div>
        </div>
      </section>

      <!-- ========== ã‚²ãƒ¼ãƒ çµæœç”»é¢ï¼ˆæ•—åŒ—ï¼‰ ========== -->
      <section class="screen" id="resultLoseScreen">
        <div class="result-container">
          <!-- çµæœãƒ’ãƒ¼ãƒ­ãƒ¼ -->
          <div class="result-hero lose">
            <div class="result-icon">ğŸ’§</div>
            <h2 class="result-title">æ®‹å¿µ...</h2>
            <p class="result-message">æ¬¡ã¯æˆåŠŸã§ãã¾ã™ã‚ˆï¼</p>
            <div class="result-stats">
              <div class="result-stat">
                <div class="result-stat-value">8å›</div>
                <div class="result-stat-label">è©¦è¡Œå›æ•°</div>
              </div>
              <div class="result-stat">
                <div class="result-stat-value">ãƒãƒ¼ãƒãƒ«</div>
                <div class="result-stat-label">ãƒ¢ãƒ¼ãƒ‰</div>
              </div>
            </div>
          </div>

          <!-- è©¦è¡Œå±¥æ­´ -->
          <div class="history-section">
            <div class="history-header" onclick="toggleHistoryLose()">
              <h3 class="history-title">è©¦è¡Œå±¥æ­´ã‚’è¦‹ã‚‹</h3>
              <span class="toggle-icon" id="historyToggleLose">â–¼</span>
            </div>
            <div class="history-content" id="historyContentLose">
              <div class="answer-reveal">
                <div class="answer-label">æ­£è§£ã¯...</div>
                <div class="tiles-row">
                  <div class="tile star">â˜…</div>
                  <div class="tile club">â™£</div>
                  <div class="tile spade">â™ </div>
                  <div class="tile square">â– </div>
                </div>
              </div>

              <div class="guess-history">
                <div class="guess-row">
                  <div class="guess-tiles">
                    <div class="tile star">â˜…</div>
                    <div class="tile heart">â™¥</div>
                    <div class="tile circle">â—</div>
                    <div class="tile square">â– </div>
                  </div>
                  <div class="guess-result">
                    <span class="hit-count">ãƒ’ãƒƒãƒˆ: 2</span>
                    <span class="blow-count">ãƒ–ãƒ­ãƒ¼: 0</span>
                  </div>
                </div>
                <!-- ä»–ã®å±¥æ­´ã‚‚åŒæ§˜ã«... -->
              </div>
            </div>
          </div>

          <!-- ã‚·ã‚§ã‚¢ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
          <div class="share-section">
            <h3 class="share-title">çµæœã‚’ã‚·ã‚§ã‚¢</h3>
            <div class="share-buttons">
              <button class="share-btn x" onclick="alert('Xã§ã‚·ã‚§ã‚¢')">
                ğ• X
              </button>
              <button class="share-btn line" onclick="alert('LINEã§ã‚·ã‚§ã‚¢')">
                LINE
              </button>
              <button
                class="share-btn threads"
                onclick="alert('Threadsã§ã‚·ã‚§ã‚¢')"
              >
                Threads
              </button>
            </div>
          </div>

          <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ -->
          <div class="result-actions">
            <button class="btn btn-primary" onclick="showScreen('home')">
              ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹
            </button>
            <button
              class="btn btn-secondary"
              id="replayBtnLose"
              onclick="showScreen('freeplay')"
            >
              ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤
            </button>
          </div>
        </div>
      </section>

      <!-- ========== çµ±è¨ˆç”»é¢ ========== -->
      <section class="screen" id="statsScreen">
        <div class="stats-container">
          <!-- å…¨ä½“çµ±è¨ˆ -->
          <div class="stats-overview">
            <h3 class="section-title">å…¨ä½“çµ±è¨ˆ</h3>
            <div class="stats-grid">
              <div class="stat-box">
                <div class="stat-box-value">42</div>
                <div class="stat-box-label">ç·ãƒ—ãƒ¬ã‚¤æ•°</div>
              </div>
              <div class="stat-box">
                <div class="stat-box-value">28</div>
                <div class="stat-box-label">å‹åˆ©æ•°</div>
              </div>
              <div class="stat-box">
                <div class="stat-box-value">66.7%</div>
                <div class="stat-box-label">å‹ç‡</div>
              </div>
              <div class="stat-box">
                <div class="stat-box-value">5.2å›</div>
                <div class="stat-box-label">å¹³å‡è©¦è¡Œå›æ•°</div>
              </div>
            </div>
          </div>

          <!-- ãƒ¢ãƒ¼ãƒ‰åˆ¥çµ±è¨ˆ -->
          <section class="mode-stats">
            <h3 class="section-title">ãƒ¢ãƒ¼ãƒ‰åˆ¥çµ±è¨ˆ</h3>

            <!-- ãƒ“ã‚®ãƒŠãƒ¼ -->
            <article class="mode-stat-card">
              <div class="mode-stat-header">
                <div class="mode-stat-name">
                  <span>ğŸ¯</span>
                  ãƒ“ã‚®ãƒŠãƒ¼
                </div>
              </div>
              <div class="mode-stat-details">
                <div class="mode-stat-item">
                  <div class="mode-stat-value">15</div>
                  <div class="mode-stat-label">ãƒ—ãƒ¬ã‚¤æ•°</div>
                </div>
                <div class="mode-stat-item">
                  <div class="mode-stat-value">12</div>
                  <div class="mode-stat-label">å‹åˆ©æ•°</div>
                </div>
                <div class="mode-stat-item">
                  <div class="mode-stat-value">80%</div>
                  <div class="mode-stat-label">å‹ç‡</div>
                </div>
                <div class="mode-stat-item">
                  <div class="mode-stat-value">4.2å›</div>
                  <div class="mode-stat-label">å¹³å‡è©¦è¡Œ</div>
                </div>
              </div>
              <div class="win-rate-bar">
                <div class="win-rate-fill" style="width: 80%"></div>
              </div>
            </article>

            <!-- ãƒãƒ¼ãƒãƒ« -->
            <article class="mode-stat-card">
              <div class="mode-stat-header">
                <div class="mode-stat-name">
                  <span>âš¡</span>
                  ãƒãƒ¼ãƒãƒ«
                </div>
              </div>
              <div class="mode-stat-details">
                <div class="mode-stat-item">
                  <div class="mode-stat-value">20</div>
                  <div class="mode-stat-label">ãƒ—ãƒ¬ã‚¤æ•°</div>
                </div>
                <div class="mode-stat-item">
                  <div class="mode-stat-value">13</div>
                  <div class="mode-stat-label">å‹åˆ©æ•°</div>
                </div>
                <div class="mode-stat-item">
                  <div class="mode-stat-value">65%</div>
                  <div class="mode-stat-label">å‹ç‡</div>
                </div>
                <div class="mode-stat-item">
                  <div class="mode-stat-value">5.8å›</div>
                  <div class="mode-stat-label">å¹³å‡è©¦è¡Œ</div>
                </div>
              </div>
              <div class="win-rate-bar">
                <div class="win-rate-fill" style="width: 65%"></div>
              </div>
            </article>

            <!-- ãƒãƒ¼ãƒ‰ -->
            <article class="mode-stat-card">
              <div class="mode-stat-header">
                <div class="mode-stat-name">
                  <span>ğŸ”¥</span>
                  ãƒãƒ¼ãƒ‰
                </div>
              </div>
              <div class="mode-stat-details">
                <div class="mode-stat-item">
                  <div class="mode-stat-value">7</div>
                  <div class="mode-stat-label">ãƒ—ãƒ¬ã‚¤æ•°</div>
                </div>
                <div class="mode-stat-item">
                  <div class="mode-stat-value">3</div>
                  <div class="mode-stat-label">å‹åˆ©æ•°</div>
                </div>
                <div class="mode-stat-item">
                  <div class="mode-stat-value">42.9%</div>
                  <div class="mode-stat-label">å‹ç‡</div>
                </div>
                <div class="mode-stat-item">
                  <div class="mode-stat-value">7.5å›</div>
                  <div class="mode-stat-label">å¹³å‡è©¦è¡Œ</div>
                </div>
              </div>
              <div class="win-rate-bar">
                <div class="win-rate-fill" style="width: 42.9%"></div>
              </div>
            </article>
          </section>

          <!-- ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ£ãƒ¬ãƒ³ã‚¸å±¥æ­´ -->
          <section class="daily-history">
            <h3 class="daily-history-title">ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ£ãƒ¬ãƒ³ã‚¸å±¥æ­´</h3>
            <div class="daily-month-header">2026å¹´2æœˆ</div>
            <div class="daily-calendar">
              <div class="daily-cell win" title="2026-02-15: å‹åˆ©">15</div>
              <div class="daily-cell lose" title="2026-02-16: æ•—åŒ—">16</div>
              <div class="daily-cell win" title="2026-02-17: å‹åˆ©">17</div>
              <div class="daily-cell win" title="2026-02-18: å‹åˆ©">18</div>
              <div class="daily-cell empty">19</div>
              <div class="daily-cell win" title="2026-02-20: å‹åˆ©">20</div>
              <div class="daily-cell lose" title="2026-02-21: æ•—åŒ—">21</div>
              <div class="daily-cell win" title="2026-02-22: å‹åˆ©">22</div>
              <div class="daily-cell win" title="2026-02-23: å‹åˆ©">23</div>
              <div class="daily-cell win" title="2026-02-24: å‹åˆ©">24</div>
              <div class="daily-cell empty">25</div>
              <div class="daily-cell empty">26</div>
              <div class="daily-cell empty">27</div>
              <div class="daily-cell empty">28</div>
            </div>
          </section>
        </div>
      </section>
    </main>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ï¼ˆãƒ›ãƒ¼ãƒ ç”»é¢ã®ã¿ï¼‰ -->
    <footer id="footer">
      <div class="footer-links">
        <button class="footer-btn" onclick="showScreen('tutorial')">
          éŠã³æ–¹
        </button>
        <a href="#" class="footer-btn">åˆ©ç”¨è¦ç´„</a>
        <a href="#" class="footer-btn">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
      </div>
      <p class="footer-text">Â© 2024 Tile Hit and Blow</p>
    </footer>

    <!-- ========== è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ« ========== -->
    <div class="modal-overlay" id="settingsModal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">è¨­å®š</h2>
          <button
            class="modal-close"
            onclick="closeSettings()"
            aria-label="é–‰ã˜ã‚‹"
          >
            âœ•
          </button>
        </div>

        <!-- è¡¨ç¤ºè¨­å®š -->
        <div class="settings-group">
          <h3 class="settings-group-title">è¡¨ç¤ºè¨­å®š</h3>

          <div class="setting-item">
            <div>
              <div class="setting-label">ãƒ†ãƒ¼ãƒ</div>
            </div>
          </div>
          <div class="radio-group settings-radio-group">
            <div class="radio-option">ãƒ©ã‚¤ãƒˆ</div>
            <div class="radio-option active">ãƒ€ãƒ¼ã‚¯</div>
            <div class="radio-option">ã‚·ã‚¹ãƒ†ãƒ </div>
          </div>

          <div class="setting-item settings-language-section">
            <div>
              <div class="setting-label">è¨€èª / Language</div>
            </div>
          </div>
          <div class="radio-group settings-radio-group">
            <div class="radio-option active">æ—¥æœ¬èª</div>
            <div class="radio-option">English</div>
          </div>
        </div>

        <!-- ã‚µã‚¦ãƒ³ãƒ‰è¨­å®š -->
        <div class="settings-group">
          <h3 class="settings-group-title">ã‚µã‚¦ãƒ³ãƒ‰</h3>

          <div class="setting-item">
            <div>
              <div class="setting-label">åŠ¹æœéŸ³</div>
              <div class="setting-description">ã‚¿ã‚¤ãƒ«é¸æŠæ™‚ã®éŸ³ãªã©</div>
            </div>
            <div
              class="toggle-switch active"
              role="switch"
              aria-checked="true"
              aria-label="åŠ¹æœéŸ³"
              tabindex="0"
              onclick="toggleSwitch(this)"
              onkeydown="
                if (event.key === 'Enter' || event.key === ' ') {
                  toggleSwitch(this);
                  event.preventDefault();
                }
              "
            >
              <div class="toggle-slider"></div>
            </div>
          </div>
        </div>

        <!-- é€šçŸ¥è¨­å®š -->
        <div class="settings-group">
          <h3 class="settings-group-title">é€šçŸ¥</h3>

          <div class="setting-item">
            <div>
              <div class="setting-label">ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ£ãƒ¬ãƒ³ã‚¸é€šçŸ¥</div>
              <div class="setting-description">æ¯æ—¥ãƒªãƒã‚¤ãƒ³ãƒ‰ã—ã¾ã™</div>
            </div>
            <div
              class="toggle-switch"
              role="switch"
              aria-checked="false"
              aria-label="ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ£ãƒ¬ãƒ³ã‚¸é€šçŸ¥"
              tabindex="0"
              onclick="toggleSwitch(this)"
              onkeydown="
                if (event.key === 'Enter' || event.key === ' ') {
                  toggleSwitch(this);
                  event.preventDefault();
                }
              "
            >
              <div class="toggle-slider"></div>
            </div>
          </div>
        </div>

        <!-- ãƒªãƒ³ã‚¯ -->
        <div class="settings-links">
          <a href="#" class="settings-link">åˆ©ç”¨è¦ç´„</a>
          <a href="#" class="settings-link">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
        </div>
      </div>
    </div>

    <script>
      // ç¾åœ¨ç”»é¢ã‚’è¿½è·¡
      let currentScreen = 'home';

      // ç”»é¢åˆ‡ã‚Šæ›¿ãˆ
      function showScreen(screenName) {
        // å…¨ç”»é¢ã‚’éè¡¨ç¤º
        document
          .querySelectorAll('.screen')
          .forEach((s) => s.classList.remove('active'));

        // æŒ‡å®šç”»é¢ã‚’è¡¨ç¤º
        const screenMap = {
          home: 'homeScreen',
          tutorial: 'tutorialScreen',
          freeplay: 'freeplayScreen',
          daily: 'dailyScreen',
          'result-win': 'resultWinScreen',
          'result-lose': 'resultLoseScreen',
          stats: 'statsScreen',
        };

        document.getElementById(screenMap[screenName]).classList.add('active');

        // ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ãƒ•ãƒƒã‚¿ãƒ¼åˆ¶å¾¡
        const backBtn = document.getElementById('backBtn');
        const logoText = document.getElementById('logoText');
        const headerTitle = document.getElementById('headerTitle');
        const footer = document.getElementById('footer');

        if (screenName === 'home') {
          backBtn.style.display = 'none';
          logoText.style.display = 'block';
          headerTitle.textContent = '';
          footer.style.display = 'block';
        } else {
          backBtn.style.display = 'block';
          logoText.style.display = 'none';
          footer.style.display = 'none';

          const titles = {
            tutorial: 'ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«',
            freeplay: 'ãƒ•ãƒªãƒ¼ãƒ—ãƒ¬ã‚¤ - ãƒãƒ¼ãƒãƒ«',
            daily: 'ä»Šæ—¥ã®å•é¡Œ',
            'result-win': 'ã‚²ãƒ¼ãƒ çµæœ',
            'result-lose': 'ã‚²ãƒ¼ãƒ çµæœ',
            stats: 'éŠã‚“ã è¨˜éŒ²',
          };
          headerTitle.textContent = titles[screenName] || '';
        }

        // ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰è¿½è·¡
        if (screenName === 'daily') lastGameMode = 'daily';
        if (screenName === 'freeplay') lastGameMode = 'freeplay';

        // resultç”»é¢ã¸é·ç§»ã™ã‚‹ã¨ãã€ã€Œã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤ã€ãƒœã‚¿ãƒ³ã‚’æ›´æ–°
        if (screenName === 'result-win' || screenName === 'result-lose') {
          const suffix = screenName === 'result-win' ? 'Win' : 'Lose';
          const replayBtn = document.getElementById(`replayBtn${suffix}`);
          if (replayBtn) {
            if (lastGameMode === 'daily') {
              replayBtn.textContent = 'ãƒ•ãƒªãƒ¼ãƒ—ãƒ¬ã‚¤ã§éŠã¶';
              replayBtn.setAttribute('onclick', "showScreen('freeplay')");
            } else {
              replayBtn.textContent = 'ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤';
              replayBtn.setAttribute('onclick', "showScreen('freeplay')");
            }
          }
        }

        // ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ç”»é¢ã®åˆæœŸåŒ–
        if (screenName === 'tutorial') {
          goToTutorialStep(0);
        }

        // ãƒˆãƒƒãƒ—ã¸ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
        window.scrollTo({ top: 0, behavior: 'smooth' });

        // ç¾åœ¨ç”»é¢ã‚’è¨˜éŒ²
        currentScreen = screenName;
      }

      // æˆ»ã‚‹ãƒœã‚¿ãƒ³
      document.getElementById('backBtn').addEventListener('click', () => {
        if (currentScreen === 'result-win' || currentScreen === 'result-lose') {
          showScreen('freeplay'); // çµæœç”»é¢ â†’ ãƒ•ãƒªãƒ¼ãƒ—ãƒ¬ã‚¤ã¸
        } else if (currentScreen === 'freeplay' || currentScreen === 'daily') {
          if (confirm('ã‚²ãƒ¼ãƒ ã‚’çµ‚äº†ã—ã¾ã™ã‹ï¼Ÿ\nç¾åœ¨ã®é€²è¡ŒçŠ¶æ³ã¯å¤±ã‚ã‚Œã¾ã™ã€‚')) {
            showScreen('home'); // ãƒ—ãƒ¬ã‚¤ä¸­ â†’ ç¢ºèªå¾Œãƒ›ãƒ¼ãƒ ã¸
          }
        } else {
          showScreen('home');
        }
      });

      // è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ« - openSettingsé–¢æ•°ã§ç½®ãæ›ãˆ
      document
        .getElementById('settingsBtn')
        .addEventListener('click', openSettings);

      function closeSettings() {
        closeSettingsWithFocus();
      }

      // ãƒ¢ãƒ¼ãƒ€ãƒ«å¤–ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ã‚‹
      document
        .getElementById('settingsModal')
        .addEventListener('click', (e) => {
          if (e.target.id === 'settingsModal') {
            closeSettings();
          }
        });

      // ãƒˆã‚°ãƒ«ã‚¹ã‚¤ãƒƒãƒ
      function toggleSwitch(element) {
        element.classList.toggle('active');
        element.setAttribute(
          'aria-checked',
          element.classList.contains('active') ? 'true' : 'false',
        );
      }

      // ãƒ©ã‚¸ã‚ªã‚ªãƒ—ã‚·ãƒ§ãƒ³
      document.querySelectorAll('.radio-option').forEach((option) => {
        option.addEventListener('click', function () {
          this.parentElement
            .querySelectorAll('.radio-option')
            .forEach((o) => o.classList.remove('active'));
          this.classList.add('active');
        });
      });

      // è¨€èªåˆ‡æ›¿ãƒœã‚¿ãƒ³
      document.getElementById('langBtn').addEventListener('click', () => {
        alert('è¨€èªåˆ‡æ›¿ï¼ˆæœªå®Ÿè£…ï¼‰');
      });

      // ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚¹ãƒ†ãƒƒãƒ—ãƒšã‚¸ãƒ³ã‚°
      let currentTutorialStep = 0;

      function goToTutorialStep(step) {
        const steps = document.querySelectorAll('.tutorial-step');
        const dots = document.querySelectorAll('.step-dot');
        const nextBtn = document.getElementById('tutorialNextBtn');

        if (!steps.length) return;

        steps.forEach((s, i) => s.classList.toggle('active', i === step));
        dots.forEach((d, i) => d.classList.toggle('active', i === step));

        currentTutorialStep = step;
        // æœ€çµ‚ã‚¹ãƒ†ãƒƒãƒ—ã§ã¯ã€Œã‚²ãƒ¼ãƒ ã‚’å§‹ã‚ã‚‹ã€ã«å¤‰æ›´
        if (step === steps.length - 1) {
          nextBtn.textContent = 'ã‚²ãƒ¼ãƒ ã‚’å§‹ã‚ã‚‹';
          nextBtn.setAttribute('onclick', "showScreen('home')");
        } else {
          nextBtn.textContent = 'æ¬¡ã¸';
          nextBtn.setAttribute('onclick', `goToTutorialStep(${step + 1})`);
        }
      }

      // ãƒ‡ã‚¤ãƒªãƒ¼ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³
      function updateDailyCountdown() {
        const now = new Date();
        const midnight = new Date(now);
        midnight.setHours(24, 0, 0, 0);
        const diff = midnight - now;
        const h = String(Math.floor(diff / 3600000)).padStart(2, '0');
        const m = String(Math.floor((diff % 3600000) / 60000)).padStart(2, '0');
        const s = String(Math.floor((diff % 60000) / 1000)).padStart(2, '0');
        const el = document.getElementById('dailyCountdown');
        if (el) el.textContent = `${h}:${m}:${s} å¾Œã«ãƒªã‚»ãƒƒãƒˆ`;
      }

      setInterval(updateDailyCountdown, 1000);
      updateDailyCountdown();

      // ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰è¿½è·¡
      let lastGameMode = 'freeplay'; // 'freeplay' | 'daily'

      // ã‚¿ã‚¤ãƒ«æ“ä½œé–¢æ•°
      function removeFromGuess(tile) {
        const slot = document.createElement('div');
        slot.className = 'tile-slot';
        slot.setAttribute('aria-label', 'ç©ºã®ã‚¹ãƒ­ãƒƒãƒˆ');
        tile.parentNode.replaceChild(slot, tile);
      }

      function addToGuess(tile) {
        alert('ã‚¿ã‚¤ãƒ«è¿½åŠ æ©Ÿèƒ½ï¼ˆæœªå®Ÿè£…ï¼‰');
      }

      // è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒˆãƒ©ãƒƒãƒ—
      function openSettings() {
        document.getElementById('settingsModal').classList.add('active');
        // æœ€åˆã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯èƒ½è¦ç´ ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
        const modal = document
          .getElementById('settingsModal')
          .querySelector('.modal-content');
        const focusable = modal.querySelectorAll('button, [tabindex="0"]');
        if (focusable.length) focusable[0].focus();
      }

      function closeSettingsWithFocus() {
        document.getElementById('settingsModal').classList.remove('active');
        document.getElementById('settingsBtn').focus(); // ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’æˆ»ã™
      }

      // ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒˆãƒ©ãƒƒãƒ—ã®keydownãƒªã‚¹ãƒŠãƒ¼
      document
        .getElementById('settingsModal')
        .addEventListener('keydown', (e) => {
          if (e.key !== 'Tab') return;
          const modal = document.querySelector('#settingsModal .modal-content');
          if (!modal) return;
          const focusable = Array.from(
            modal.querySelectorAll('button, [tabindex="0"]'),
          );
          if (!focusable.length) return;
          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          if (e.shiftKey) {
            if (document.activeElement === first) {
              e.preventDefault();
              last.focus();
            }
          } else {
            if (document.activeElement === last) {
              e.preventDefault();
              first.focus();
            }
          }
        });

      // è©¦è¡Œå±¥æ­´ã®é–‹é–‰
      function toggleHistory() {
        const content = document.getElementById('historyContent');
        const toggle = document.getElementById('historyToggle');
        content.classList.toggle('open');
        toggle.classList.toggle('open');
      }

      function toggleHistoryLose() {
        const content = document.getElementById('historyContentLose');
        const toggle = document.getElementById('historyToggleLose');
        content.classList.toggle('open');
        toggle.classList.toggle('open');
      }

      // ESCã‚­ãƒ¼ã§ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹ã€ã¾ãŸã¯ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³éšå±¤ã«å¾“ã£ã¦æˆ»ã‚‹
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          if (
            document
              .getElementById('settingsModal')
              .classList.contains('active')
          ) {
            closeSettings();
          } else if (
            currentScreen === 'result-win' ||
            currentScreen === 'result-lose'
          ) {
            showScreen('freeplay'); // çµæœç”»é¢ â†’ ãƒ•ãƒªãƒ¼ãƒ—ãƒ¬ã‚¤ã¸
          } else if (
            currentScreen === 'freeplay' ||
            currentScreen === 'daily'
          ) {
            if (
              confirm('ã‚²ãƒ¼ãƒ ã‚’çµ‚äº†ã—ã¾ã™ã‹ï¼Ÿ\nç¾åœ¨ã®é€²è¡ŒçŠ¶æ³ã¯å¤±ã‚ã‚Œã¾ã™ã€‚')
            ) {
              showScreen('home'); // ãƒ—ãƒ¬ã‚¤ä¸­ â†’ ç¢ºèªå¾Œãƒ›ãƒ¼ãƒ ã¸
            }
          } else {
            showScreen('home');
          }
        }
      });
    </script>
  </body>
</html>
